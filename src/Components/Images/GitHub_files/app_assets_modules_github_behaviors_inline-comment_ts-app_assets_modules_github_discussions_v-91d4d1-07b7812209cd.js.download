"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_behaviors_inline-comment_ts-app_assets_modules_github_discussions_v-91d4d1"],{91153:(e,t,n)=>{n.d(t,{H:()=>s,i:()=>l});var o=n(97797),r=n(80622),i=n(64916);function s(e){let t=e.querySelector(".js-inline-comment-form-container");t.classList.add("open"),t.querySelector(".js-write-tab")?.click(),t.querySelector(".js-comment-field").focus(),(0,o.h)(t,"inlinecomment:focus")}function l(e){e.reset();let t=e.closest(".js-inline-comment-form-container");t.classList.remove("open");let n=t.querySelector(".js-multi-line-preview");n&&(n.hidden=!0),(0,o.h)(t,"inlinecomment:collapse")}(0,o.on)("click",".js-toggle-inline-comment-form",function(e){s(e.currentTarget.closest(".js-line-comments"))}),(0,o.on)("quote-selection",".js-line-comments",function(e){s(e.currentTarget),e.stopPropagation()}),(0,i.Ff)("keydown",".js-inline-comment-form-container form .js-comment-field",function(e){let t=e.target;t.classList.contains("js-navigation-enable")||"Escape"!==e.key||0!==t.value.length||(l(t.closest("form")),e.preventDefault())}),(0,o.on)("click",".js-hide-inline-comment-form",function(e){let t=e.currentTarget.closest("form");!(0,r.Av)(t)||confirm(e.currentTarget.getAttribute("data-confirm-cancel-text"))?l(t):e.preventDefault()})},28749:(e,t,n)=>{var o=n(13080),r=n(21403);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s=async(e,t,n,o)=>{let r=new FormData;return!0===o&&r.append("upvote","true"),await fetch(e,{body:"delete"===n?"":r,method:n,mode:"same-origin",headers:{"Scoped-CSRF-Token":t}})},l=class VoteCountElement{getLabel(){return this.voteCountElement?.getAttribute("data-upvote-label")||""}getText(){return this.voteCountElement?.textContent||""}constructor(e){i(this,"voteCountElement",void 0),this.voteCountElement=e}},u=class VoteFormElement{isUpvoted(){return"true"===this.voteForm.getAttribute("data-upvoted")}getCsrfDeleteInputValue(){let e=this.voteForm.querySelector(".js-data-url-delete-csrf");return e?e.value:""}getCsrfPutInputValue(){let e=this.voteForm.querySelector(".js-data-url-put-csrf");return e?e.value:""}simulateUpvote(){this.voteForm.setAttribute("data-upvoted","true"),this.voteForm.getAttribute("data-new-upvote")&&(this.voteForm.querySelector(".js-upvote-button")?.classList.add("user-has-reacted","color-bg-accent"),this.voteForm.querySelector(".js-upvote-button")?.classList.remove("color-fg-muted")),this.voteForm.classList.add("is-upvoted"),this.voteButton?.setAttribute("aria-label",this.upvotedCountElement.getLabel()),this.voteButton?.setAttribute("aria-pressed","true"),(0,o.i)(`${this.upvotedCountElement.getText()} Upvotes`)}simulateUpvoteDeletion(){this.voteForm.setAttribute("data-upvoted","false"),this.voteForm.getAttribute("data-new-upvote")&&(this.voteForm.querySelector(".js-upvote-button")?.classList.remove("user-has-reacted","color-bg-accent"),this.voteForm.querySelector(".js-upvote-button")?.classList.add("color-fg-muted")),this.voteForm.classList.remove("is-upvoted"),this.voteButton?.setAttribute("aria-label",this.defaultVoteCountElement.getLabel()),this.voteButton?.setAttribute("aria-pressed","false"),(0,o.i)(`${this.defaultVoteCountElement.getText()} Upvotes`)}displayUpVoteError(e){let t=this.voteForm.querySelector(".js-upvote-error");t instanceof HTMLElement&&(t.textContent=e,t.hidden=!1)}hideVoteErrors(){let e=this.voteForm.querySelector(".js-upvote-error");e instanceof HTMLElement&&(e.hidden=!0)}constructor(e){i(this,"voteForm",void 0),i(this,"voteButton",void 0),i(this,"defaultVoteCountElement",void 0),i(this,"upvotedCountElement",void 0),i(this,"url",void 0),this.voteForm=e,this.voteButton=this.voteForm.querySelector(".js-upvote-button"),this.defaultVoteCountElement=new l(e.querySelector(".js-default-vote-count")),this.upvotedCountElement=new l(e.querySelector(".js-upvoted-vote-count")),this.url=this.voteForm.getAttribute("data-url")||""}},a=class Upvote{animateUpvote(e){e?this.voteFormElement.simulateUpvoteDeletion():this.voteFormElement.simulateUpvote()}animateUpvoteUndo(e){e?this.voteFormElement.simulateUpvote():this.voteFormElement.simulateUpvoteDeletion()}async click(){this.voteFormElement.hideVoteErrors();let e=this.voteFormElement.isUpvoted(),t=e?this.voteFormElement.getCsrfDeleteInputValue():this.voteFormElement.getCsrfPutInputValue();this.animateUpvote(e);let n=await s(this.voteFormElement.url,t,e?"delete":"put",!e);if(!n.ok&&422===n.status){let t=await n.json();this.voteFormElement.displayUpVoteError(t.error),this.animateUpvoteUndo(e)}}constructor(e){i(this,"voteFormElement",void 0),this.voteFormElement=e}};(0,r.lB)(".js-upvote-button",e=>{if(!(e instanceof HTMLElement)||!(e.closest(".discussion-vote-form")instanceof HTMLElement))return;let t=new a(new u(e.closest(".discussion-vote-form")));e.addEventListener("click",async()=>{await t.click()})})},13080:(e,t,n)=>{n.d(t,{C:()=>s,i:()=>l});var o=n(47584),r=n(75632),i=n(46493);function s(e,t){(0,r.G7)("arianotify_comprehensive_migration")?l(u(e),{...t,element:t?.element??e}):(0,r.G7)("primer_live_region_element")&&t?.element===void 0?(0,i.Cj)(e,{politeness:t?.assertive?"assertive":"polite"}):l(u(e),t)}function l(e,t){let{assertive:n,element:s}=t??{};(0,r.G7)("arianotify_comprehensive_migration")&&"ariaNotify"in Element.prototype?(s||document.body).ariaNotify(e,{interrupt:t?.assertive?"all":"none"}):(0,r.G7)("primer_live_region_element")&&void 0===s?(0,i.iP)(e,{politeness:n?"assertive":"polite"}):function(e,t,n){let r=n??o.XC?.querySelector(t?"#js-global-screen-reader-notice-assertive":"#js-global-screen-reader-notice");r&&(r.textContent===e?r.textContent=`${e}\u00A0`:r.textContent=e)}(e,n,s)}function u(e){return(e.getAttribute("aria-label")||e.innerText||"").trim()}},80622:(e,t,n)=>{let o,r,i;n.d(t,{Av:()=>c,it:()=>a});var s=n(74057),l=n(30930),u=n(47584);function a(e,t=!1,n=!1){var u;return!n&&c(e)||function(e,t){let n=o instanceof Element?o:e&&e.ownerDocument&&e.ownerDocument.activeElement?e.ownerDocument.activeElement:null;return null!==n&&(!t||n!==e)&&(!!(n===e&&(0,l.Z8)(n)||e.contains(n)&&!function(e){if(e instanceof s.A)return!0;let t=e instanceof HTMLAnchorElement||e instanceof HTMLButtonElement,n=e.parentElement?.classList.contains("task-list-item");if(t&&n)return!0;if(!(i instanceof Element))return!1;let o=e.closest(m);return!!o&&o===i.closest(m)}(n))||i instanceof Element&&e.contains(i)&&!!i.closest("details[open] > summary"))}(e,t)||(u=e).matches(":active:enabled")||u.contains(r)||!!(e.closest(".is-dirty")||e.querySelector(".is-dirty"))}function c(e){for(let t of e.querySelectorAll("input, textarea"))if((t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&function(e){if(e instanceof HTMLInputElement&&("checkbox"===e.type||"radio"===e.type)){if(e.checked!==e.defaultChecked)return!0}else if(e.value!==e.defaultValue)return!0;return!1}(t))return!0;return!1}u.XC?.addEventListener("mousedown",function(e){r=e.target},!0),u.XC?.addEventListener("mouseup",function(e){r=null,i=e.target},!0),u.XC?.addEventListener("contextmenu",function(e){r=null,i=e.target},!0),u.XC?.addEventListener("dragend",function(){r=null},!0);let m="a[href], button"},64916:(e,t,n)=>{n.d(t,{Ff:()=>u,eC:()=>a,uE:()=>l});var o=n(6986);let r=!1,i=new o.A;function s(e){let t=e.target;if(t instanceof HTMLElement&&t.nodeType!==Node.DOCUMENT_NODE)for(let e of i.matches(t))e.data.call(null,t)}function l(e,t){r||(r=!0,document.addEventListener("focus",s,!0)),i.add(e,t),document.activeElement instanceof HTMLElement&&document.activeElement.matches(e)&&t(document.activeElement)}function u(e,t,n){function o(t){let r=t.currentTarget;r&&(r.removeEventListener(e,n),r.removeEventListener("blur",o))}l(t,function(t){t.addEventListener(e,n),t.addEventListener("blur",o)})}function a(e,t){function n(e){let{currentTarget:o}=e;o&&(o.removeEventListener("input",t),o.removeEventListener("blur",n))}l(e,function(e){e.addEventListener("input",t),e.addEventListener("blur",n)})}},84076:(e,t,n)=>{n.d(t,{B:()=>o});function o(e,t){let n=e.createElement("template");return n.innerHTML=t,e.importNode(n.content,!0)}},71828:(e,t,n)=>{n.d(t,{Ax:()=>r.Ax,JW:()=>i,ZV:()=>r.ZV});var o=n(55156),r=n(13937);function i(e,t){(0,r.JW)(e,async(e,n,r)=>((0,o.tV)(r.headers),t(e,n,r)))}}}]);
//# sourceMappingURL=app_assets_modules_github_behaviors_inline-comment_ts-app_assets_modules_github_discussions_v-91d4d1-580d7968a0fa.js.map